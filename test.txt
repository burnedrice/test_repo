class Solution:
    def isValidSudoku(self, board: List[List[str]]) -> bool:
        for row in board:
            table = set()
            for num in row:
                if num != ".":
                    if num not in table:
                        table.add(num)
                    else:
                        return False
        
        for j in range(9):
            table = set()
            for row in board:
                num = row[j]
                if num != ".":
                    if num not in table:
                        table.add(num)
                    else:
                        return False
                    
        for i in range(3):
            for j in range(3):
                table = set()
                for r in range(i*3, i*3 + 3):
                    for s in range(j*3, j*3 + 3):
                        num = board[r][s]
                        if num != ".":
                            if num not in table:
                                table.add(num)
                            else:
                                return False
        
        return True